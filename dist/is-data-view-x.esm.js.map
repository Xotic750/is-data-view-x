{"version":3,"sources":["../src/is-data-view-x.js"],"names":[],"mappings":"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","file":"is-data-view-x.esm.js","sourcesContent":["import attempt from 'attempt-x';\nimport isObjectLike from 'is-object-like-x';\nimport hasToStringTag from 'has-to-string-tag-x';\nimport getOwnPropertyDescriptor from 'object-get-own-property-descriptor-x';\nimport toStringTag from 'to-string-tag-x';\nimport isArrayBuffer from 'is-array-buffer-x';\n\nconst hasDView = typeof DataView === 'function';\nconst dViewTag = '[object DataView]';\n\nconst getDataView = function getDataView() {\n  const res = attempt(function attemptee() {\n    /* eslint-disable-next-line compat/compat */\n    return new DataView(new ArrayBuffer(4));\n  });\n\n  return res.threw === false && isObjectLike(res.value) && res.value;\n};\n\nconst getByteLengthGetter = function getByteLengthGetter(dataView) {\n  /* eslint-disable-next-line compat/compat */\n  const descriptor = getOwnPropertyDescriptor(DataView.prototype, 'byteLength');\n\n  if (descriptor && typeof descriptor.get === 'function') {\n    const res = attempt.call(dataView, descriptor.get);\n\n    return res.threw === false && typeof res.value === 'number' && descriptor.get;\n  }\n\n  return null;\n};\n\nconst legacyCheck1 = function legacyCheck1(object) {\n  return toStringTag(object) === dViewTag;\n};\n\nconst legacyCheck2 = function legacyCheck2(object) {\n  const isByteLength = typeof object.byteLength === 'number';\n  const isByteOffset = typeof object.byteOffset === 'number';\n  const isGetFloat32 = typeof object.getFloat32 === 'function';\n  const isSetFloat64 = typeof object.setFloat64 === 'function';\n\n  return isByteLength && isByteOffset && isGetFloat32 && isSetFloat64 && isArrayBuffer(object.buffer);\n};\n\nconst init = function init(hasDataView) {\n  if (hasDataView) {\n    const dataView = getDataView();\n    const getByteLength = dataView && hasToStringTag ? getByteLengthGetter(dataView) : false;\n\n    return {\n      getByteLength,\n      legacyCheck: getByteLength === false && toStringTag(dataView) === dViewTag ? legacyCheck1 : legacyCheck2,\n    };\n  }\n\n  return {\n    getByteLength: false,\n    legacyCheck: false,\n  };\n};\n\nconst {getByteLength, legacyCheck} = init(hasDView);\n\n/**\n * Determine if an `object` is an `DataView`.\n *\n * @param {*} object - The object to test.\n * @returns {boolean} `true` if the `object` is a `DataView`, else `false`.\n */\nconst isDataView = function isDataView(object) {\n  if (hasDView === false || isObjectLike(object) === false) {\n    return false;\n  }\n\n  if (legacyCheck) {\n    return legacyCheck(object);\n  }\n\n  const result = attempt.call(object, getByteLength);\n\n  return result.threw === false && typeof result.value === 'number';\n};\n\nexport default isDataView;\n"]}