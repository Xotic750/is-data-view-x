{"version":3,"sources":["../src/is-data-view-x.js"],"names":[],"mappings":"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","file":"is-data-view-x.esm.js","sourcesContent":["import attempt from 'attempt-x';\nimport isObjectLike from 'is-object-like-x';\nimport hasToStringTag from 'has-to-string-tag-x';\nimport toStringTag from 'to-string-tag-x';\nimport isArrayBuffer from 'is-array-buffer-x';\nimport call from 'simple-call-x';\nimport getGetter from 'util-get-getter-x';\n\nconst hasDView = typeof DataView === 'function';\nconst dViewTag = '[object DataView]';\n\nconst getDataView = function getDataView(creator) {\n  const res = attempt(creator);\n\n  return res.threw === false && isObjectLike(res.value) && res.value;\n};\n\nexport const legacyCheck1 = function legacyCheck1(object) {\n  return toStringTag(object) === dViewTag;\n};\n\nexport const legacyCheck2 = function legacyCheck2(object) {\n  if (isObjectLike(object) === false) {\n    return false;\n  }\n\n  const isByteLength = typeof object.byteLength === 'number';\n  const isByteOffset = typeof object.byteOffset === 'number';\n  const isGetFloat32 = typeof object.getFloat32 === 'function';\n  const isSetFloat64 = typeof object.setFloat64 === 'function';\n\n  return isByteLength && isByteOffset && isGetFloat32 && isSetFloat64 && isArrayBuffer(object.buffer);\n};\n\nconst validator = function validator(value) {\n  return typeof value === 'number';\n};\n\nconst creator = function creator() {\n  /* eslint-disable-next-line compat/compat */\n  return new DataView(new ArrayBuffer(4));\n};\n\nconst init = function init() {\n  if (hasDView) {\n    const dataView = getDataView(creator);\n    const byteLength = dataView && hasToStringTag ? getGetter(dataView, 'byteLength', validator) : null;\n\n    return {\n      byteLength,\n      legacyCheck: byteLength === null && legacyCheck1(dataView) ? legacyCheck1 : legacyCheck2,\n    };\n  }\n\n  return {\n    byteLength: null,\n    legacyCheck: null,\n  };\n};\n\nconst {byteLength, legacyCheck} = init();\n\n/**\n * Determine if an `object` is an `DataView`.\n *\n * @param {*} object - The object to test.\n * @returns {boolean} `true` if the `object` is a `DataView`, else `false`.\n */\nconst isDataView = function isDataView(object) {\n  if (hasDView === false || isObjectLike(object) === false) {\n    return false;\n  }\n\n  if (byteLength === null && legacyCheck) {\n    return legacyCheck(object);\n  }\n\n  const result = attempt(function attemptee() {\n    return call(byteLength, object);\n  });\n\n  return result.threw === false && validator(result.value);\n};\n\nexport default isDataView;\n"]}